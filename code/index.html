<!DOCTYPE HTML>
<html lang="nl">
<head>
	<meta charset="UTF-8">
	<title>Vectors en cirkels</title>
	<style>
		canvas {
			border: 1px dotted #CCC;
		}
	</style>
	
	<script src="javascript.js"></script>
	<script>
		var veld, cirk1, cirk2, startY=300;
		
		function loop(t){
			veld.clearRect(0, 0, 800, 600);
			
			var dx = cirk1.x-cirk2.x,
			    dy = cirk1.y-cirk2.y,
				rr = dx*dx + dy*dy,
				r  = Math.sqrt(rr);
			
			cirk2.krachten[0].dx = cirk1.massa*cirk2.massa/rr * dx / r;
			cirk2.krachten[0].dy = cirk1.massa*cirk2.massa/rr * dy / r;
			
			cirk1.krachten[0].dx = -cirk2.krachten[0].dx;
			cirk1.krachten[0].dy = -cirk2.krachten[0].dy;
			
			
			cirk1.beweeg().teken(veld, true);
			cirk2.beweeg().teken(veld, true);
			//cirk2.snelheid.teken(veld, cirk2.x, cirk2.y, 'grey');
		};
		
		window.onload = function(){
			var interval = null;
			
			veld = document.getElementById('c').getContext('2d');
			cirk1 = new Cirkel(50, 300, 400);
			cirk2 = new Cirkel(10, 500, 400);
			
			cirk1.voegKrachtToe(new Vector(0, 0)).teken(veld, true);
			cirk2.voegKrachtToe(new Vector(0, 0)).teken(veld, true);
			
			cirk2.snelheid = new Vector(0, -4);
			
			cirk1.massa = 10000;
			cirk2.massa = 10;
			
document.getElementById('gaDoor').onclick = function(){
	if(interval){
		clearInterval(interval);
		interval = null;
	} else {
		var t=0;
		interval = setInterval(function(){
			loop(t);
			t++;
		}, 1000 / 60);
	}
	
	return false;
};
		};
	</script>
</head>
<body>
	<h1>Voorbeeld</h1>
	<canvas id="c" width="800" height="600"></canvas>
	
	<p><a href="#" id="gaDoor">Start/Stop animatie</a></p>
</body>
</html>